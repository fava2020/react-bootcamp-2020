(this["webpackJsonpreact-certification-2020"]=this["webpackJsonpreact-certification-2020"]||[]).push([[0],{45:function(e,t,r){},86:function(e,t,r){},88:function(e,t,r){},89:function(e,t,r){"use strict";r.r(t);var c=r(1),a=r.n(c),s=r(34),n=r.n(s),i=r(6),l=r(5),o=r(2),d=r(35),u=r(38),b=r(4);function j(e,t){switch(t.type){case"@fetching":return Object(b.a)(Object(b.a)({},e),{},{status:"fetching"});case"@get/videos":return Object(b.a)(Object(b.a)({},e),{},{status:"fetched",videos:t.payload});case"@set/current_video":return Object(b.a)(Object(b.a)({},e),{},{status:"current_video",currentVideo:t.payload});case"@set/search_result":return Object(b.a)(Object(b.a)({},e),{},{status:"search",searchQuery:t.payload});case"@error":return Object(b.a)(Object(b.a)({},e),{},{status:"error",error:t.payload});case"@set/favourites_videos":return Object(b.a)(Object(b.a)({},e),{},{status:"add_favourites",favouriteVideos:[].concat(Object(u.a)(e.favouriteVideos),[t.payload])});case"@set/remove_favourites_videos":return Object(b.a)(Object(b.a)({},e),{},{status:"remove_favourites_videos",favouriteVideos:t.payload});default:return e}}var h=r(0),x={videos:[],currentVideo:null,searchQuery:"Wizeline",favouriteVideos:[]},m=Object(c.createContext)(null);function p(){var e=Object(c.useContext)(m);if(!e)throw new Error('Can\'t use "useVideoContext" without an VideosProvider!');return e}var O=function(e){var t=e.children,r=Object(c.useReducer)(j,x),a=Object(l.a)(r,2),s=a[0],n=a[1],i=Object(c.useCallback)((function(e){n({type:"@get/videos",payload:e})}),[n]),o={state:s,dispatch:n,setVideos:i};return Object(h.jsx)(m.Provider,{value:o,children:t})},g="wa_cert_authenticated",f=function(e){try{var t=window.localStorage.getItem(e);return JSON.parse(t)}catch(r){return console.error('Error parsing storage item "'.concat(e,'".')),null}},v=function(e,t){window.localStorage.setItem(e,JSON.stringify(t))},w=a.a.createContext(null);function y(){var e=Object(c.useContext)(w);if(!e)throw new Error('Can\'t use "useAuth" without an AuthProvider!');return e}var N=function(e){var t=e.children,r=Object(c.useState)(!1),a=Object(l.a)(r,2),s=a[0],n=a[1];Object(c.useEffect)((function(){var e=f(g),t=Boolean(e);n(t)}),[]);var i=Object(c.useCallback)((function(){n(!0),v(g,!0)}),[]),o=Object(c.useCallback)((function(){n(!1),v(g,!1)}),[]);return Object(h.jsx)(w.Provider,{value:{login:i,logout:o,authenticated:s},children:t})},k=function(e){var t=e.iconName,r=e.className;return Object(h.jsx)("svg",{className:r,children:Object(h.jsx)("use",{xlinkHref:"./sprite.svg#icon-".concat(t)})})},S=function(e){var t=Object(c.useState)(e),r=Object(l.a)(t,2),a=r[0],s=r[1],n="light"===a?"dark":"light";return Object(c.useEffect)((function(){var e=window.document.documentElement;e.classList.remove(n),e.classList.add(a)}),[a,n]),[n,s]},C=(r(45),function(e){var t=e.mode,r=S(t),c=Object(l.a)(r,2),a=c[0],s=c[1],n="light"===a?"Dark Mode":"Light Mode";return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"hidden md:block",children:Object(h.jsxs)("label",{htmlFor:"toggle",className:"flex items-center cursor-pointer",children:[Object(h.jsxs)("div",{className:"relative",children:[Object(h.jsx)("input",{id:"toggle",type:"checkbox",className:"hidden",onClick:function(){return s(a)}}),Object(h.jsx)("div",{className:"toggle__line w-8 h-4 bg-gray-400 rounded-full shadow-inner"}),Object(h.jsx)("div",{className:"toggle__dot absolute w-4 h-4 bg-white rounded-full shadow inset-y-0 left-0"})]}),Object(h.jsx)("div",{className:"ml-3 text-white text-normal",children:n})]})})})}),_=r(13),V=r.n(_),D=r(18),F=function(e){var t=e.placeholder,r=p().dispatch,a=Object(o.g)(),s=Object(c.useState)({term:"Wizeline"}),n=Object(l.a)(s,2),i=n[0],d=n[1],u=function(){var e=Object(D.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r({type:"@set/search_result",payload:i.term}),r({type:"@get/videos",payload:[]}),r({type:"@set/current_video",payload:null}),a.push("/");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"relative",children:Object(h.jsxs)("form",{onSubmit:u,children:[Object(h.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-0.5",children:Object(h.jsx)("button",{type:"submit",className:"p-0 bg-blue-200 dark:bg-blue-100",children:Object(h.jsx)(k,{iconName:"search",className:"fill-current text-white w-6 h-6 pt-1"})})}),Object(h.jsx)("input",{type:"text",onChange:function(e){d({term:e.target.value.trim()})},placeholder:t,className:"focus:outline-none pl-8 rounded-lg shadow-lg p-0.5 bg-blue-200 dark:bg-blue-100 text-white"})]})})})},I=function(){return Object(h.jsx)(i.b,{to:"/login",children:Object(h.jsx)(k,{iconName:"user",className:"fill-current dark:border-gray-800 dark:text-gray-800 text-gray-400 h-10 w-10 rounded-full border-2 border-gray-400"})})},E=function(e){var t=e.placeholder,r=e.mode,c=e.toggleDrawer;return Object(h.jsxs)("nav",{className:"flex items-center flex-wrap bg-blue-900 shadow-lg dark:bg-blue-800",children:[Object(h.jsx)("button",{onClick:function(){return c()},type:"button",className:"focus:outline-none flex-initial text-center px-4 m-2 bg-transparent",children:Object(h.jsx)(k,{iconName:"menu",className:"fill-current text-white h-6 w-6 mr-2"})}),Object(h.jsx)("div",{className:"flex-1 text-left sm:px-2 md:px-4 md:m-2",children:Object(h.jsx)(F,{placeholder:t})}),Object(h.jsx)("div",{className:"flex-initial text-right px-4 m-2",children:Object(h.jsx)(C,{mode:r})}),Object(h.jsx)("div",{className:"flex-initial text-right px-4 m-2 hidden md:block",children:Object(h.jsx)(I,{})})]})},L=r(12),R=function(e){var t=e.id,r=e.title,c=e.description,a=e.thumbnail,s=e.video,n=p().dispatch,l=Object(o.j)().path;return Object(h.jsx)("div",{className:"my-1 px-1 w-full md:w-1/3 lg:my-4 lg:px-4 lg:w-1/4 xl:w-1/5 2xl:w-1/6 cursor-pointer sm:px-4 sm:my-4",children:Object(h.jsx)(i.b,{to:"".concat(l,"video/").concat(encodeURI(t)),onClick:function(){n({type:"@set/current_video",payload:s})},children:Object(h.jsxs)("article",{className:"overflow-hidden w-full h-full rounded-lg shadow-lg text-justify dark:border-gray-600 dark:bg-gray-600",children:[Object(h.jsx)("img",{className:"block h-auto w-full",src:a,alt:r}),Object(h.jsx)("header",{className:"flex items-center justify-between leading-tight pl-4 pr-4 pt-2",children:Object(h.jsx)("h1",{className:"text-base",children:r})}),Object(h.jsx)("section",{className:"p-4",children:Object(h.jsx)("p",{className:"text-xs font-hairline dark:text-gray-300 text-gray-500",children:c})})]})})})},P=function(e){var t=e.id,r=e.title,c=e.thumbnail,a=e.video,s=e.onSelectedVideo;return Object(h.jsx)("div",{className:"col-start-7 col-end-8 cursor-pointer mt-0.5 focus:outline-none",onClick:function(){return s(a)},role:"button",tabIndex:"0","aria-hidden":"true",children:Object(h.jsxs)("article",{className:"grid sm:grid-cols-1 md:grid-cols-4 dark:bg-gray-600",children:[Object(h.jsx)("div",{className:"md:w-full md:h-auto sm:w-full rounded-t lg:rounded-t-none lg:rounded-l dark:border-0 dark:border-transparent text-center overflow-hidden bg-local border-t border-b lg:border-gray-400",children:Object(h.jsx)("img",{className:"block h-full w-full flex-none bg-cover text-center overflow-hidden",src:c,alt:Object(L.a)(r)})}),Object(h.jsx)("div",{className:"h-auto hidden sm:block col-start-2 col-span-5 w-full dark:border-0 border-r border-b border-l dark:border-transparent dark:bg-gray-600 border-gray-400 lg:border-l-0 lg:border-t lg:border-gray-400 bg-white rounded-b lg:rounded-b-none lg:p-2 md:p-.5 flex-col justify-between leading-normal",children:Object(h.jsx)("div",{className:"mb-2",children:Object(h.jsx)("div",{className:"text-gray-500 lg:text-xs xl:text-base dark:text-white",children:Object(L.a)(r)})})})]})},t)},z=function(e){var t=e.relatedCard,r=e.onSelectedVideo,c=e.videos;return Object(h.jsx)(h.Fragment,{children:t?Object(h.jsx)("div",{className:"col-start-6 col-end-8",children:c.map((function(e){return Object(h.jsx)(P,{id:e.etag,title:Object(L.a)(e.snippet.title),thumbnail:e.snippet.thumbnails.default.url,video:e,onSelectedVideo:r},e.etag)}))}):Object(h.jsx)("div",{className:"container my-12 mx-auto px-4 md:px-12",children:Object(h.jsx)("div",{className:"flex flex-wrap -mx-1 lg:-mx-4",children:c.map((function(e){return Object(h.jsx)(R,{id:e.id.videoId,title:Object(L.a)(e.snippet.title),description:Object(L.a)(e.snippet.description),thumbnail:e.snippet.thumbnails.medium.url,video:e,onSelectedVideo:r},e.etag)}))})})})},A=r(37),Q=r.n(A).a.create({baseURL:"https://www.googleapis.com/youtube/v3",params:{part:"snippet",type:"video",maxResults:25,key:"".concat("AIzaSyD3Dz0lvohCfndSnLW5DAPd42w-a4ON39A")}}),B=function(e){var t=Object(c.useRef)({}),r=Object(c.useState)(!1),a=Object(l.a)(r,2),s=a[0],n=a[1],i=Object(c.useState)(null),o=Object(l.a)(i,2),d=o[0],u=o[1],b=p(),j=b.state,h=b.setVideos,x=Object(c.useCallback)(Object(D.a)(V.a.mark((function r(){var c,a;return V.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n(!0),!t.current[e]){r.next=5;break}h(t.current[e]),r.next=17;break;case 5:return r.prev=5,r.next=8,Q.get("/search",{params:{q:e}});case 8:c=r.sent,a=c.data,t.current[e]=a.items,h(a.items),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(5),u(r.t0);case 17:n(!1);case 18:case"end":return r.stop()}}),r,null,[[5,14]])}))),[h,e]);return Object(c.useEffect)((function(){x()}),[x]),[j,s,d]};var J=function(e){var t=e.toggleDrawer,r=e.isOpen,a=Object(c.useRef)(null),s=p(),n=s.state,i=s.dispatch,l=B(n.searchQuery),o=l.loading,d=l.error,u=n.videos;return console.log(o,d),u.lenght<=0?Object(h.jsx)("div",{children:"Loading..."}):Object(h.jsxs)("section",{ref:a,children:[Object(h.jsx)(E,{toggleDrawer:t,isOpen:r,placeholder:"Search...",mode:"light"}),Object(h.jsx)("section",{children:Object(h.jsx)(z,{onSelectedVideo:function(e){i({type:"@set/current_video",payload:e})},videos:u})})]})},W=function(){var e=Object(o.g)(),t=y().login;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:Object(h.jsx)("section",{children:Object(h.jsx)("div",{className:"flex items-center h-screen w-full bg-teal-lighter",children:Object(h.jsxs)("div",{className:"w-full bg-white rounded shadow-lg p-8 m-4 md:max-w-sm md:mx-auto",children:[Object(h.jsx)("h1",{className:"block w-full text-center text-grey-darkest mb-6",children:"Login"}),Object(h.jsxs)("form",{className:"mb-4 md:flex md:flex-wrap md:justify-between",onSubmit:function(r){r.preventDefault(),t(),e.push("/secret")},method:"post",children:[Object(h.jsxs)("div",{className:"flex flex-col mb-4 md:w-full",children:[Object(h.jsx)("label",{className:"mb-2 uppercase font-bold text-lg text-grey-darkest",htmlFor:"email",children:"Email"}),Object(h.jsx)("input",{className:"border py-2 px-3 text-grey-darkest",type:"email",name:"email",id:"email"})]}),Object(h.jsxs)("div",{className:"flex flex-col mb-6 md:w-full",children:[Object(h.jsx)("label",{className:"mb-2 uppercase font-bold text-lg text-grey-darkest",htmlFor:"password",children:"Password"}),Object(h.jsx)("input",{className:"border py-2 px-3 text-grey-darkest",type:"password",name:"password",id:"password"})]}),Object(h.jsx)("button",{className:"block shadow-lg bg-green-400 hover:bg-green-500 text-white uppercase text-lg mx-auto px-12 py-2 rounded",type:"submit",children:"Login"}),Object(h.jsx)("button",{className:"block shadow-lg bg-red-400 hover:bg-red-500 text-white uppercase text-lg mx-auto px-12 py-2 rounded",type:"button",onClick:function(t){t.stopPropagation(),e.goBack()},children:"Cancel"})]})]})})})}),Object(h.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]})},M=function(e){var t=e.video,r=p(),c=r.state,a=r.dispatch,s=c.favouriteVideos;console.log(s);return Object(h.jsx)("button",{className:"block shadow-lg md:text-xs focus:outline-none bg-green-400 hover:bg-green-500 dark:bg-red-400 dark:hover:bg-red-500 text-white uppercase lg:text-lg mx-auto px-4 py-1 rounded",type:"button",onClick:function(){var e=s.includes(t);if(a({type:"@set/favourites_videos",payload:t}),e){var r=s.filter((function(e){return e.id.videoId!==t.id.videoId}));a({type:"@set/remove_favourites_videos",payload:r})}},children:s.find((function(e){return e.id.videoId===t.id.videoId}))?"Remove from favorites":"Add to Favorites"})},H=function(e){var t=e.video;if(!t)return Object(h.jsx)("div",{children:"Loading..."});var r=t.id,c=t.snippet,a="https://www.youtube.com/embed/".concat(r.videoId);return Object(h.jsxs)("div",{className:"col-start-1 col-end-6 mx-0.5 mt-0.5",children:[Object(h.jsx)("div",{className:"aspect-w-16 aspect-h-9",children:Object(h.jsx)("iframe",{src:a,title:c.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})}),Object(h.jsxs)("div",{className:"grid sm:grid-cols-1 md:grid-flow-col md:grid-cols-3 gap-4",children:[Object(h.jsx)("div",{className:"md:col-span-2",children:Object(h.jsx)("h4",{className:"ml-2 m-4 text-lg",children:c.title})}),Object(h.jsx)("div",{className:"md:mt-2 sm:px-8 sm:mx-auto",children:Object(h.jsx)(M,{video:t})})]}),Object(h.jsx)("p",{className:"ml-2 m-4 text-sm font-hairline text-gray-500",children:c.description})]})};var U=function(e){var t=e.toggleDrawer,r=e.isOpen,a=e.isFavourite,s=Object(c.useRef)(null),n=Object(o.i)().id,i=p(),l=i.state,d=i.dispatch;B(l.searchQuery);var u=l.videos,b=l.favouriteVideos,j=l.currentVideo;return console.log(n,l),Object(h.jsxs)("section",{ref:s,children:[Object(h.jsx)(E,{toggleDrawer:t,isOpen:r,placeholder:"Search...",mode:"light"}),Object(h.jsxs)("section",{className:"grid grid-cols-7",children:[Object(h.jsx)(H,{video:j}),Object(h.jsx)(z,{onSelectedVideo:function(e){d({type:"@set/current_video",payload:e})},videos:a?b:u,relatedCard:j})]})]})};r(86);var q=function(){return Object(h.jsxs)("section",{className:"not-found",children:[Object(h.jsx)(i.b,{to:"/",className:"home-link",children:"home"}),Object(h.jsx)("img",{src:"404.gif",alt:"page not found"})]})};var X=function(){return Object(h.jsxs)("section",{children:[Object(h.jsxs)("pre",{children:["welcome, voyager...",Object(h.jsx)(i.b,{to:"/",children:" \u2190 go back"})]}),Object(h.jsx)("iframe",{width:"800",height:"450",allowFullScreen:!0,frameBorder:"0",title:"rick roll",src:"https://www.youtube.com/embed/dQw4w9WgXcQ?controls=0&autoplay=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"})]})};var G=function(e){var t=e.toggleDrawer,r=e.isOpen,a=Object(c.useRef)(null),s=p(),n=s.state,i=s.dispatch,l=n.favouriteVideos;return console.log(l,n,"Favourites Page"),Object(h.jsxs)("section",{ref:a,children:[Object(h.jsx)(E,{toggleDrawer:t,isOpen:r,placeholder:"Search...",mode:"light"}),Object(h.jsx)("section",{children:Object(h.jsx)(z,{onSelectedVideo:function(e){i({type:"@set/current_video",payload:e})},videos:l})})]})},K=r(39);var T=function(e){var t=e.children,r=Object(K.a)(e,["children"]),c=y().authenticated;return Object(h.jsx)(o.b,Object(b.a)(Object(b.a)({},r),{},{render:function(){return c?t:Object(h.jsx)(o.a,{to:"/"})}}))};var Y=function(e){var t=e.children;return Object(h.jsx)("main",{className:"bg-white dark:bg-gray-800 h-full dark:text-white",children:t})};r(87);var Z=function(){var e=Object(o.h)(),t=e.state&&e.state.background,r=Object(o.g)(),c=a.a.useState(!1),s=Object(l.a)(c,2),n=s[0],i=s[1],u=function(){i((function(e){return!e}))};return Object(h.jsx)(O,{children:Object(h.jsxs)(N,{children:[Object(h.jsx)(d.a,{open:n,onClose:u,direction:"left",children:Object(h.jsxs)("div",{className:"grid grid-rows-2 grid-flow-col gap-4 divide-y divide-light-gray-400",children:[Object(h.jsx)("div",{className:"pt-4 pl-2",children:Object(h.jsx)("button",{type:"button",onClick:function(){i((function(e){return!e})),r.push("/")},children:"Home"})}),Object(h.jsx)("div",{className:"pt-0 pl-2",children:Object(h.jsx)("button",{type:"button",onClick:function(){i((function(e){return!e})),r.push("/favourites")},children:"Favourites"})})]})}),Object(h.jsxs)(Y,{children:[Object(h.jsxs)(o.d,{location:t||e,children:[Object(h.jsx)(o.b,{path:"/video",render:function(e){var t=e.match;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(o.b,{exact:!0,path:"".concat(t.url,"/"),children:Object(h.jsx)(J,{toggleDrawer:u,isOpen:n})}),Object(h.jsx)(o.b,{path:"".concat(t.url,"/:id"),children:Object(h.jsx)(U,{toggleDrawer:u,isOpen:n})})]})}}),Object(h.jsx)(o.b,{exact:!0,path:"/",children:Object(h.jsx)(J,{toggleDrawer:u,isOpen:n})}),Object(h.jsx)(o.b,{path:"/favourites",render:function(e){var t=e.match;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(o.b,{exact:!0,path:"".concat(t.url,"/"),children:Object(h.jsx)(G,{toggleDrawer:u,isOpen:n})}),Object(h.jsx)(o.b,{path:"".concat(t.url,"/:id"),children:Object(h.jsx)(U,{toggleDrawer:u,isOpen:n,isFavourite:"true"})})]})}}),Object(h.jsx)(o.b,{path:"/login",component:W}),Object(h.jsx)(T,{exact:!0,path:"/secret",children:Object(h.jsx)(X,{})}),Object(h.jsx)(o.b,{path:"*",children:Object(h.jsx)(q,{})})]}),t&&Object(h.jsx)(o.b,{path:"/login",component:W})]})]})})};r(88);n.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(i.a,{children:Object(h.jsx)(Z,{})})}),document.getElementById("root",{className:"h-full"}))}},[[89,1,2]]]);
//# sourceMappingURL=main.017d892b.chunk.js.map